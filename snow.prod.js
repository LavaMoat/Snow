(()=>{var e={528:(e,t,r)=>{const n=r(88),o=r(311),c=r(199);let a=!1;function i(){return a}function u(e,t,r,n,o,c,i,u,l,p,s){const f=a;let d,m;a=!0;try{d=e(t,r,n,o,c,i,u,l,p,s)}catch(c){m=c}if(f||(a=!1),m)throw m;return d}e.exports=function(e,t){return function(e,t){const r=e.document.createElement("iframe");e.document.head.appendChild(r),t(r.contentWindow),r.parentElement.removeChild(r)}(e,(r=>{u((()=>{t=t||new r.Object,n(e,r,i,t.objects||new r.Object),o(e,r,i,t.prototypes||new r.Object),c(e,r,i)}))})),u}},88:e=>{e.exports=function(e,t,r,n){for(const o in n){const c=n[o];for(let n=0;n<c.length;n++){const a=c[n];let i=t[o][a];"function"==typeof i&&(i=i.bind(e[o])),t.Object.defineProperty(e[o],a+"S",{configurable:!1,get:function(){if(r())return i}})}}}},311:e=>{function t(e,t){return function(r,n,o,c,a){if(t())return e(this,r,n,o,c,a)}}function r(e,r,n){const o=r.value,c=r.set||(()=>{}),a=r.get||(()=>o);r.configurable=!1,delete r.value,delete r.writable;const i=e.Function.prototype.call.bind(a),u=e.Function.prototype.call.bind(c);return r.get=t(i,n),r.set=t(u,n),r}function n(e,t,n,o,c,a){let i=e[c];const u=new t.Array;for(;;){const e=t.Object.getOwnPropertyDescriptor(i.prototype,a);if(t.Array.prototype.push.call(u,i.prototype),e)break;i=t.Object.getPrototypeOf(i.prototype).constructor}const l=t.Object.getOwnPropertyDescriptor(u[u.length-1],a);for(;u.length;){const e=t.Array.prototype.pop.call(u);n[e.constructor.name]&&t.Array.prototype.includes.call(n[e.constructor.name],a)||(t.Object.defineProperty(e,a+"S",r(t,l,o)),n[e.constructor.name]=n[e.constructor.name]||new t.Array,t.Array.prototype.push.call(n[e.constructor.name],a))}}e.exports=function(e,t,r,o){const c=new t.Object;for(const a in o){const i=t[a];t.Object.defineProperty(e,a+"S",{configurable:!1,get:function(){if(r())return i}}),c[a]=c[a]||new t.Array;const u=o[a];for(let o=0;o<u.length;o++){const i=u[o];n(e,t,c,r,a,i),n(e,t,c,r,a+"S",i)}}}},199:e=>{e.exports=function(e,t,r){let n=t.Object.getOwnPropertyDescriptor(e.Document.prototype,"currentScript").get.bind(e.document);t.Object.defineProperty(e.document,"currentScriptS",{configurable:!1,get:function(){if(r())return n()}})}},586:(e,t,r)=>{var n=r(228),o=r(648),c=o.getFramesArray,a=o.getFrameTag,i=r(14),u=i.getOnload,l=i.setOnload,p=i.removeAttribute,s=i.addEventListener;function f(e,t,r){if(a(t)){s(t,"load",(function(){n(e,[this],r)}));var o=u(t);o&&(l(t,null),p(t,"onload"),l(t,o))}}e.exports=function(e,t,r){for(var n=0;n<t.length;n++)for(var o=t[n],a=c(o,!0),i=0;i<a.length;i++)f(e,a[i],r)}},750:e=>{e.exports=function(e){e&&e.contentWindow}},228:(e,t,r)=>{var n=r(851),o=r(750),c=r(648),a=c.shadows,i=c.getFramesArray,u=c.getFrameTag,l=r(14),p=l.getContentWindow,s=l.Object,f=l.getFrameElement;function d(e,t){for(var r=-1;e[++r];)if(!n(e[r],e,s)&&f(e[r])===t)return e[r];for(var o=0;o<a.length;o++)for(var c=a[o],l=i(c,!1),d=0;d<l.length;d++)if(l[d]===t)return p(l[d],u(l[d]));return null}e.exports=function(e,t,r){for(var n=0;n<t.length;n++){var c=t[n];o(c);var a=d(e,c);a&&r(a)}}},328:(e,t,r)=>{var n=r(648).getFramesArray,o=r(14),c=o.removeAttribute,a=o.getAttribute,i=o.getTemplateContent,u=o.createElement,l=o.getInnerHTML,p=o.setInnerHTML,s=r(312),f=s.warn,d=s.WARN_IFRAME_ONLOAD_ATTRIBUTE_REMOVED;function m(e){for(var t=0;t<e.length;t++){var r=e[t],n=a(r,"onload");n&&(f(d,r,n),c(r,"onload"))}}e.exports=function(e,t){for(var r=0;r<t.length;r++){var o=t[r],c=u(document,"template");p(c,o);var a=n(i(c),!1);a.length&&(m(a),t[r]=l(c))}}},352:(e,t,r)=>{var n=r(733),o=n.secure,c=n.securely,a=r(228),i=r(583),u=r(459),l=r(58),p=r(373).hookShadowDOM,s=r(14),f=s.addEventListener,d=s.getFrameElement,m=r(111),g=m.isMarked,y=m.mark,O=r(312),w=O.error,v=O.ERR_MARK_NEW_WINDOW_FAILED;function E(e){try{var t=!g(e);return t&&y(e),t}catch(t){w(v,e,t)}return E(e)}function b(e,t){E(t)&&function(e,t,r,n){i(e,t),u(e,t),l(e,t),p(e,t),n(e,r)}(t,(function(r){b(e,r),f(d(r),"load",(function(){a(t,[this],(function(){b(e,r)}))}))}),t===top?c:o(t),e)}var S=!1;e.exports=function(e,t){S||(S=!0,b(e,t||top))}},58:(e,t,r)=>{var n=r(373).protectShadows,o=r(586),c=r(648),a=c.getFramesArray,i=c.shadows,u=r(14),l=u.getParentElement,p=u.slice,s=u.Object,f=u.Function,d=r(328),m=r(228),g={DocumentFragment:["replaceChildren","append","prepend"],Document:["replaceChildren","append","prepend","write","writeln"],Node:["appendChild","insertBefore","replaceChild"],Element:["innerHTML","outerHTML","insertAdjacentHTML","replaceWith","insertAdjacentElement","append","before","prepend","after","replaceChildren"],ShadowRoot:["innerHTML"],HTMLIFrameElement:["srcdoc"]};function y(e,t,r){return function(){var c=p(arguments),u=l(this)||this;o(e,c,r),o(e,i,r),d(e,c),d(e,i);var s=f.prototype.apply.call(t,this,c),g=a(u,!1);return m(e,g,r),m(e,c,r),n(e,r,!0),s}}e.exports=function(e,t){for(var r in g)for(var n=g[r],o=0;o<n.length;o++){var c=n[o],a=s.getOwnPropertyDescriptor(e[r].prototype,c),i=a.set?"set":"value";a[i]=y(e,a[i],t),s.defineProperty(e[r].prototype,c,a)}}},459:(e,t,r)=>{var n=r(228),o=r(14),c=o.removeEventListener,a=o.addEventListener,i=o.slice,u=o.Map,l=o.Object,p=new u;function s(e,t,r){if(t)return t.handleEvent?t.handleEvent.apply(t,r):t.apply(e,r)}function f(e,t){return function(r,o,c){var u=o;return"load"===r&&(p.has(o)||p.set(o,(function(){n(e,[this],t);var r=i(arguments);s(this,o,r)})),u=p.get(o)),a(this,r,u,c)}}e.exports=function(e,t){l.defineProperty(e.EventTarget.prototype,"addEventListener",{value:f(e,t)}),l.defineProperty(e.EventTarget.prototype,"removeEventListener",{value:function(e,t,r){var n=t;return"load"===e&&(n=p.get(t),p.delete(t)),c(this,e,n,r)}})}},312:e=>{e.exports={warn:function(e,t,r){if(1===e){var n=t,o=r;console.warn("SNOW:","removing html string iframe onload attribute:",n,'"'.concat(o,'".'),"\nthis technique is less common under legitimate use, but can be used to attack snow and therefore is removed.","\nif this harms your web app, open an issue at snow github repo.")}},error:function(e,t,r){if(2===e){var n=t,o=r;console.error("SNOW:","failed to mark new window:",n,".","\nthis is either a bug in snow or an attack attempt.","\nthis typically causes an infinite loop until either one is solved.","\nerror caught:\n",o)}},WARN_IFRAME_ONLOAD_ATTRIBUTE_REMOVED:1,ERR_MARK_NEW_WINDOW_FAILED:2}},111:(e,t,r)=>{var n=r(14),o=n.Map,c=n.Object,a=n.Array,i=(Math.random()+1).toString(36).substring(7),u=new o;e.exports={isMarked:function(e){if(!u.has(e))return!1;var t=c.getOwnPropertyDescriptor(e,"SNOW_ID");if(!t||!c.hasOwnProperty.call(t,"value"))return!1;if("function"!=typeof t.value)return!1;var r=u.get(e);return t.value(i)===r},mark:function(e){var t=new a;c.defineProperty(e,"SNOW_ID",{configurable:!1,writable:!1,value:function(e){return e===i&&t}}),u.set(e,t)}}},14:(e,t,r)=>{function n(e,t,r){return o.slice.call(e,t,r)}var o=(0,r(733).securely)((function(){return{Array:ArrayS,Map:MapS,Object:ObjectS,Function:FunctionS,Node:NodeS,Element:ElementS,ShadowRoot:ShadowRootS,Document:DocumentS,DocumentFragment:DocumentFragmentS,parse:JSON.parseS,stringify:JSON.stringifyS,iframeContentWindow:Object.getOwnPropertyDescriptor(HTMLIFrameElementS.prototype,"contentWindow").get,frameContentWindow:Object.getOwnPropertyDescriptor(HTMLFrameElementS.prototype,"contentWindow").get,objectContentWindow:Object.getOwnPropertyDescriptor(HTMLObjectElementS.prototype,"contentWindow").get,createElement:Object.getOwnPropertyDescriptor(DocumentS.prototype,"createElement").value,slice:Object.getOwnPropertyDescriptor(ArrayS.prototype,"slice").value,nodeType:Object.getOwnPropertyDescriptor(NodeS.prototype,"nodeType").get,tagName:Object.getOwnPropertyDescriptor(ElementS.prototype,"tagName").get,getInnerHTML:Object.getOwnPropertyDescriptor(ElementS.prototype,"innerHTML").get,setInnerHTML:Object.getOwnPropertyDescriptor(ElementS.prototype,"innerHTML").set,toString:Object.getOwnPropertyDescriptor(ObjectS.prototype,"toString").value,getOnload:Object.getOwnPropertyDescriptor(HTMLElementS.prototype,"onload").get,setOnload:Object.getOwnPropertyDescriptor(HTMLElementS.prototype,"onload").set,getAttribute:Object.getOwnPropertyDescriptor(ElementS.prototype,"getAttribute").value,removeAttribute:Object.getOwnPropertyDescriptor(ElementS.prototype,"removeAttribute").value,addEventListener:Object.getOwnPropertyDescriptor(EventTargetS.prototype,"addEventListener").value,removeEventListener:Object.getOwnPropertyDescriptor(EventTargetS.prototype,"removeEventListener").value,getTemplateContent:Object.getOwnPropertyDescriptor(HTMLTemplateElementS.prototype,"content").get,getFrameElement:Object.getOwnPropertyDescriptor(window,"frameElement").get,getParentElement:Object.getOwnPropertyDescriptor(NodeS.prototype,"parentElement").get}}));e.exports={getParentElement:function(e){return o.getParentElement.call(e)},getTemplateContent:function(e){return o.getTemplateContent.call(e)},getFrameElement:function(e){return o.Function.prototype.call.call(o.getFrameElement,e)},getInnerHTML:function(e){return o.getInnerHTML.call(e)},setInnerHTML:function(e,t){return o.setInnerHTML.call(e,t)},getContentWindow:function(e,t){switch(t){case"IFRAME":return o.iframeContentWindow.call(e);case"FRAME":return o.frameContentWindow.call(e);case"OBJECT":return o.objectContentWindow.call(e);default:return null}},createElement:function(e,t,r){return o.createElement.call(e,t,r)},slice:n,Array:function(){return o.Array.apply(null,n(arguments))},Map:function(){return new o.Map},Object:o.Object,Function:o.Function,Node:o.Node,Element:o.Element,Document:o.Document,DocumentFragment:o.DocumentFragment,ShadowRoot:o.ShadowRoot,parse:function(e,t){return o.parse(e,t)},stringify:function(e,t,r){return o.stringify(e,t,r)},nodeType:function(e){return o.nodeType.call(e)},toString:function(e){return o.toString.call(e)},tagName:function(e){return o.tagName.call(e)},getOnload:function(e){return o.getOnload.call(e)},setOnload:function(e,t){return o.setOnload.call(e,t)},removeAttribute:function(e,t){return o.removeAttribute.call(e,t)},getAttribute:function(e,t){return o.getAttribute.call(e,t)},addEventListener:function(e,t,r,n){return o.addEventListener.call(e,t,r,n)},removeEventListener:function(e,t,r,n){return o.removeEventListener.call(e,t,r,n)}}},583:(e,t,r)=>{r(14).slice,e.exports=function(e,t){e.open,e.open=function(){return null}}},733:(e,t,r)=>{var n=r(528),o={objects:{JSON:["parse","stringify"],document:["createElement"],Object:["defineProperty","getOwnPropertyDescriptor"]},prototypes:{Attr:["localName","name","nodeName"],String:["toLowerCase"],Function:["apply","call","bind"],Map:["get","set"],Node:["nodeType","parentElement","toString"],Document:["querySelectorAll"],DocumentFragment:["querySelectorAll","toString","replaceChildren","append","prepend"],ShadowRoot:["querySelectorAll","toString","innerHTML"],Object:["toString"],Array:["includes","push","slice"],Element:["innerHTML","toString","querySelectorAll","getAttribute","removeAttribute","tagName"],HTMLElement:["onload","toString"],HTMLScriptElement:["src"],HTMLTemplateElement:["content"],EventTarget:["addEventListener"],HTMLIFrameElement:["contentWindow"],HTMLFrameElement:["contentWindow"],HTMLObjectElement:["contentWindow"]}};e.exports={securely:n(top,o),secure:function(e){return n(e,o)}}},373:(e,t,r)=>{var n=r(228),o=r(648),c=o.getFramesArray,a=o.shadows,i=r(14),u=i.Object,l=i.Function;function p(e,t,r){for(var o=0;o<a.length;o++){var i=a[o];if(!r||i.isConnected){var u=c(i,!1);n(e,u,t)}}}e.exports={hookShadowDOM:function(e,t){var r=u.getOwnPropertyDescriptor(e.Element.prototype,"attachShadow"),n=r.value;r.value=function(e,t,r){return function(n){var o=l.prototype.call.call(t,this,n);return a.push(o),p(e,r,!0),o}}(e,n,t),u.defineProperty(e.Element.prototype,"attachShadow",r)},protectShadows:p}},648:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(14),c=o.tagName,a=o.nodeType,i=o.slice,u=o.Array,l=o.parse,p=o.stringify,s=o.Node,f=o.Document,d=o.DocumentFragment,m=o.Element,g=o.ShadowRoot,y=new u;function O(e){return y.includes(e)}function w(e,t){for(var r=!1,n=0;n<t.length;n++)e.includes(t[n])||(e.push(t[n]),r=!0);return r}e.exports={getFramesArray:function(e,t){var r,o=new u;if(null===e||"object"!==n(e))return o;if("string"==typeof l(p(r=e,(function(e,t){return e||r!==t?"":t})))||!function(e){if(O(e))return!0;var t=a(e);return t===m.prototype.ELEMENT_NODE||t===m.prototype.DOCUMENT_FRAGMENT_NODE||t===m.prototype.DOCUMENT_NODE}(e))return o;var c=function(e){if(O(e))return g;switch(a(e)){case s.prototype.DOCUMENT_NODE:return f;case s.prototype.DOCUMENT_FRAGMENT_NODE:return d;default:return m}}(e).prototype.querySelectorAll,y=c.call(e,"iframe,frame,object,embed");return w(o,i(y)),t&&w(o,[e]),o},getFrameTag:function(e){if(!e||"object"!==n(e))return null;if(a(e)!==m.prototype.ELEMENT_NODE)return null;if(O(e))return null;var t=c(e);return"IFRAME"!==t&&"FRAME"!==t&&"OBJECT"!==t&&"EMBED"!==t?null:t},shadows:y}},626:e=>{e.exports={SRC_IS_NOT_A_WINDOW:'provided argument "src" must be a proper window of instance Window',DST_IS_NOT_A_WINDOW:'provided argument "dst" must be a proper window of instance Window',SRC_IS_NOT_SAME_ORIGIN_AS_WINDOW:'provided argument "src" must be a window in the same origin as the current context window'}},851:(e,t,r)=>{const{DST_IS_NOT_A_WINDOW:n,SRC_IS_NOT_A_WINDOW:o,SRC_IS_NOT_SAME_ORIGIN_AS_WINDOW:c}=r(626);function a(e,t){const r=t(e);return r===r.window}function i(e,t,r){return null===r.getPrototypeOf.call(t,e)}e.exports=function(e,t=window,r=window.Object){if(!a(t,r))throw new Error(o);if(!a(e,r))throw new Error(n);if(i(window,t,r))throw new Error(c);return i(e,t,r)}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,r),c.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e,t=r(352),n=r.n(t);e=window,Object.defineProperty(e,"SNOW",{value:n()})})()})();